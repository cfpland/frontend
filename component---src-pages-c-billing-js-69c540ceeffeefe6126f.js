(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{171:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),o=n(0),c=n.n(o),i=n(194),u=n(199),l=n(197),s=n(198),m=n(367),p=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).componentWillReceiveProps=function(e,t){e&&e.auth&&!e.auth.isAuthenticated&&(window.location.href="/")},t.render=function(){var e=t.props,n=e.location,a=e.auth;return c.a.createElement(u.a,{location:n,auth:a},c.a.createElement(l.a,{site:i.siteMetadata,title:"Your Account"}),c.a.createElement("div",{className:"container mt-3"},c.a.createElement("div",{className:"account-page"},a.isAuthenticated?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Billing Information"),c.a.createElement(m.a,{auth:a}),c.a.createElement("p",{className:"small cancel"},"Need to cancel your account or change your email address? Email"," ",c.a.createElement("a",{className:"text-danger",href:"mailto:info@cfpland.com",target:"_blank"},"info@cfpland.com"),".")):"")))},t}return r()(t,e),t}(c.a.Component);t.default=Object(s.a)(p)},316:function(e,t,n){"use strict";t.decode=t.parse=n(322),t.encode=t.stringify=n(323)},322:function(e,t,n){"use strict";function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var c={};if("string"!=typeof e||0===e.length)return c;var i=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var s=0;s<l;++s){var m,p,f,d,h=e[s].replace(i,"%20"),y=h.indexOf(n);y>=0?(m=h.substr(0,y),p=h.substr(y+1)):(m=h,p=""),f=decodeURIComponent(m),d=decodeURIComponent(p),a(c,f)?r(c[f])?c[f].push(d):c[f]=[c[f],d]:c[f]=d}return c};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},323:function(e,t,n){"use strict";var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(c(e),function(c){var i=encodeURIComponent(a(c))+n;return r(e[c])?o(e[c],function(e){return i+encodeURIComponent(a(e))}).join(t):i+encodeURIComponent(a(e[c]))}).join(t):i?encodeURIComponent(a(i))+n+encodeURIComponent(a(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],a=0;a<e.length;a++)n.push(t(e[a],a));return n}var c=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},367:function(e,t,n){"use strict";n(29),n(368);var a=n(8),r=n.n(a),o=n(0),c=n.n(o),i=(n(387),n(316)),u=n.n(i),l=n(193),s=n(190),m="2iupzagf59uu",p=function(e){function t(t){var n;return(n=e.call(this,t)||this).componentWillReceiveProps=function(e,t){n.setUpFromProps(e)},n.render=function(){return c.a.createElement(c.a.Fragment,null,n.state.managementUrl?c.a.createElement("div",{className:"mt-3 mb-4"},c.a.createElement("p",null,"Payments are securely managed by Moonclerk and Stripe. To change your credit card on file, click the button below."),c.a.createElement("p",{className:"text-center"},c.a.createElement(s.OutboundLink,{target:"_blank",className:"btn btn-success",href:n.state.managementUrl},"Update Your Payment Method in Moonclerk"))):c.a.createElement("div",{id:"mc"+m},c.a.createElement("p",null,c.a.createElement("a",{href:n.link},"CFP Land Professional"))))},n.setUpFromProps=function(e){if(e&&e.auth&&e.auth.user)if("pro"===e.auth.user.accountLevel)n.apiClient.getMePayment().then(function(e){n.setState(Object.assign({},n.state,{managementUrl:e.data.management_url}))}).catch(function(e){return console.error(e)});else{!function(t,n){var a=t.createElement(n),r={checkoutToken:m,width:"100%",cid:e.auth.user.id,email:encodeURIComponent(e.auth.user.email)};a.src="https://d2l7e0y6ygya2s.cloudfront.net/assets/embed.js",a.onload=a.onreadystatechange=function(){var e=this.readyState;if(!e||"complete"==e||"loaded"==e)try{new MoonclerkEmbed(r).display()}catch(t){}};var o=t.getElementsByTagName(n)[0];o.parentNode.insertBefore(a,o)}(document,"script");var t={cid:e.auth.user.id,email:e.auth.user.email};n.link+="?"+u.a.stringify(t)}},n.state={managementUrl:null},n.apiClient=new l.a,n.link="https://app.moonclerk.com/pay/"+m,n.setUpFromProps(t),n}return r()(t,e),t}(c.a.Component);t.a=p},368:function(e,t,n){"use strict";n(369)("link",function(e){return function(t){return e(this,"a","href",t)}})},369:function(e,t,n){var a=n(11),r=n(15),o=n(25),c=/"/g,i=function(e,t,n,a){var r=String(o(e)),i="<"+t;return""!==n&&(i+=" "+n+'="'+String(a).replace(c,"&quot;")+'"'),i+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(i),a(a.P+a.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}}}]);
//# sourceMappingURL=component---src-pages-c-billing-js-69c540ceeffeefe6126f.js.map