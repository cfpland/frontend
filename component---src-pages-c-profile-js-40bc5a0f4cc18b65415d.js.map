{"version":3,"sources":["webpack:///./src/pages/c/profile.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/utilities/clean-null-values.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/debounce-promise/dist/index.js","webpack:///./node_modules/awesome-only-resolves-last-promise/dist/index.es.js","webpack:///./node_modules/awesome-imperative-promise/dist/index.es.js","webpack:///./node_modules/awesome-debounce-promise/dist/index.es.js","webpack:///./src/components/ProfileForm/ProfileLocationInput/index.js","webpack:///./src/components/ProfileForm/index.js"],"names":["Profile","login","e","preventDefault","_this","props","authClient","render","_this$props","location","auth","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","components_Layout__WEBPACK_IMPORTED_MODULE_3__","components_Meta__WEBPACK_IMPORTED_MODULE_4__","site","siteMetadata","title","className","isAuthenticated","Fragment","components_ProfileForm__WEBPACK_IMPORTED_MODULE_5__","onClick","href","React","Component","withAuthentication","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","configurable","get","this","match","cleanNullValues","obj","Object","keys","forEach","key","toObject","$keys","it","$export","core","fails","module","exports","KEY","exec","fn","exp","S","F","wait","arguments","length","undefined","options","lastCallAt","deferred","timer","pendingArgs","currentWait","getWait","currentTime","Date","getTime","isCold","_len","args","Array","_key","leading","accumulate","Promise","resolve","call","then","result","apply","concat","clearTimeout","promise","reject","defer","push","setTimeout","thisDeferred","bind","argsIndex","results","onlyResolvesLast","asyncFunction","cancelPrevious","_i","promiseArg","wrappedPromise","initialPromise","_a","_resolve","_reject","val","error","value","reason","cancel","__assign","assign","t","s","i","n","p","hasOwnProperty","DefaultOptions","_args","index_es_DebounceCache","DebounceCache","config","debounceSingleton","debounceCache","_createDebouncedFunction","debouncedFunc","dist_default","func","getDebouncedFunction","index_es","finalOptions","ProfileLocationInput","_React$Component","handleSearchableNameChange","event","setState","state","searchResults","searchStatus","target","statuses","LOADING","READY","searchableName","getDebouncedLocations","res","data","items","total","SAVING","ERROR","selectLocation","profileLocation","updateLocation","locationName","friendlyName","locationPoint","latitude","longitude","handleOnFocus","showOptions","handleOnBlur","componentWillReceiveProps","nextProps","getIconFromSearchStatus","react_default","htmlFor","name","type","id","placeholder","autoComplete","onChange","onFocus","onBlur","map","AwesomeDebouncePromise","apiClient","getLocations","speakingGoalOptions","ProfileForm","componentDidMount","status","handleChange","_Object$assign","account","handleLocationChange","handleSelectedSpeakingGoalChange","speakingGoal","includes","speakingGoalSelected","handleSubmit","patchMe","SAVED","onComplete","catch","console","message","nextContext","user","onSubmit","email","disabled","firstName","lastName","ProfileForm_ProfileLocationInput","goalOption","saveButtonText","ApiClient"],"mappings":"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","file":"component---src-pages-c-profile-js-40bc5a0f4cc18b65415d.js","sourcesContent":["import React from 'react'\nimport { siteMetadata } from '../../../gatsby-config'\nimport Layout from 'components/Layout'\nimport Meta from 'components/Meta'\nimport ProfileForm from 'components/ProfileForm'\nimport { withAuthentication } from '../../context/withAuthentication'\n\nclass Profile extends React.Component {\n  login = e => {\n    e.preventDefault()\n    this.props.authClient.login()\n  }\n\n  render = () => {\n    const { location, auth } = this.props\n\n    return (\n      <Layout location={location} auth={auth}>\n        <Meta site={siteMetadata} title=\"Your Account\" />\n        <div className=\"container mt-3\">\n          <div className=\"account-page\">\n            {auth.isAuthenticated ? (\n              <React.Fragment>\n                <h1>Edit Profile</h1>\n                <ProfileForm auth={auth} />\n              </React.Fragment>\n            ) : (\n              <a className=\"nav-link\" onClick={this.login} href=\"#\">\n                Login\n              </a>\n            )}\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default withAuthentication(Profile)\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","export const cleanNullValues = obj => {\n  Object.keys(obj).forEach(key => obj[key] === null && delete obj[key])\n  return obj\n}\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\n\n/* global setTimeout, clearTimeout */\n\nmodule.exports = function debounce(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var lastCallAt = void 0;\n  var deferred = void 0;\n  var timer = void 0;\n  var pendingArgs = [];\n  return function debounced() {\n    var currentWait = getWait(wait);\n    var currentTime = new Date().getTime();\n\n    var isCold = !lastCallAt || currentTime - lastCallAt > currentWait;\n\n    lastCallAt = currentTime;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (isCold && options.leading) {\n      return options.accumulate ? Promise.resolve(fn.call(this, [args])).then(function (result) {\n        return result[0];\n      }) : Promise.resolve(fn.call.apply(fn, [this].concat(args)));\n    }\n\n    if (deferred) {\n      clearTimeout(timer);\n    } else {\n      deferred = defer();\n    }\n\n    pendingArgs.push(args);\n    timer = setTimeout(flush.bind(this), currentWait);\n\n    if (options.accumulate) {\n      var argsIndex = pendingArgs.length - 1;\n      return deferred.promise.then(function (results) {\n        return results[argsIndex];\n      });\n    }\n\n    return deferred.promise;\n  };\n\n  function flush() {\n    var thisDeferred = deferred;\n    clearTimeout(timer);\n\n    Promise.resolve(options.accumulate ? fn.call(this, pendingArgs) : fn.apply(this, pendingArgs[pendingArgs.length - 1])).then(thisDeferred.resolve, thisDeferred.reject);\n\n    pendingArgs = [];\n    deferred = null;\n  }\n};\n\nfunction getWait(wait) {\n  return typeof wait === 'function' ? wait() : wait;\n}\n\nfunction defer() {\n  var deferred = {};\n  deferred.promise = new Promise(function (resolve, reject) {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n}\n//# sourceMappingURL=index.js.map","import { createImperativePromise } from 'awesome-imperative-promise';\n\n// see https://stackoverflow.com/a/54825370/82609\r\nfunction onlyResolvesLast(asyncFunction) {\r\n    var cancelPrevious = null;\r\n    var wrappedFunction = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        cancelPrevious && cancelPrevious();\r\n        var initialPromise = asyncFunction.apply(void 0, args);\r\n        var _a = createImperativePromise(initialPromise), promise = _a.promise, cancel = _a.cancel;\r\n        cancelPrevious = cancel;\r\n        return promise;\r\n    };\r\n    return wrappedFunction; // TODO fix TS\r\n}\n\nexport { onlyResolvesLast };\n//# sourceMappingURL=index.es.js.map\n","function createImperativePromise(promiseArg) {\r\n    var resolve = null;\r\n    var reject = null;\r\n    var wrappedPromise = new Promise(function (_resolve, _reject) {\r\n        resolve = _resolve;\r\n        reject = _reject;\r\n    });\r\n    promiseArg && promiseArg.then(function (val) {\r\n        resolve && resolve(val);\r\n    }, function (error) {\r\n        reject && reject(error);\r\n    });\r\n    return {\r\n        promise: wrappedPromise,\r\n        resolve: function (value) {\r\n            resolve && resolve(value);\r\n        },\r\n        reject: function (reason) {\r\n            reject && reject(reason);\r\n        },\r\n        cancel: function () {\r\n            resolve = null;\r\n            reject = null;\r\n        }\r\n    };\r\n}\n\nexport { createImperativePromise };\n//# sourceMappingURL=index.es.js.map\n","import DebouncePromise from 'debounce-promise';\nimport { onlyResolvesLast } from 'awesome-only-resolves-last-promise';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar DefaultOptions = {\r\n    // One distinct debounced function is created per key and added to an internal cache\r\n    // By default, the key is null, which means that all the calls\r\n    // will share the same debounced function\r\n    key: function () {\r\n        var _args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            _args[_i] = arguments[_i];\r\n        }\r\n        return null;\r\n    },\r\n    // By default, a debounced function will only resolve\r\n    // the last promise it returned\r\n    // Former calls will stay unresolved, so that you don't have\r\n    // to handle concurrency issues in your code\r\n    // Setting this to false means all returned promises will resolve to the last result\r\n    onlyResolvesLast: true,\r\n};\r\n// We create a debouncing function cache, because when wrapping the original function,\r\n// we may actually want to route the function call to different debounced functions depending function paameters\r\nvar DebounceCache = /** @class */ (function () {\r\n    function DebounceCache(config) {\r\n        this.config = config;\r\n        this.debounceSingleton = null;\r\n        this.debounceCache = {}; // when key feature is used\r\n    }\r\n    DebounceCache.prototype._createDebouncedFunction = function () {\r\n        var debouncedFunc = DebouncePromise(this.config.func, this.config.wait, this.config.options); // TODO TS\r\n        if (this.config.options.onlyResolvesLast) {\r\n            debouncedFunc = onlyResolvesLast(debouncedFunc);\r\n        }\r\n        return {\r\n            func: debouncedFunc,\r\n        };\r\n    };\r\n    DebounceCache.prototype.getDebouncedFunction = function (args) {\r\n        var _a;\r\n        var key = (_a = this.config.options).key.apply(_a, args);\r\n        if (key === null || typeof key === 'undefined') {\r\n            if (!this.debounceSingleton) {\r\n                this.debounceSingleton = this._createDebouncedFunction();\r\n            }\r\n            return this.debounceSingleton;\r\n        }\r\n        else {\r\n            if (!this.debounceCache[key]) {\r\n                this.debounceCache[key] = this._createDebouncedFunction();\r\n            }\r\n            return this.debounceCache[key];\r\n        }\r\n    };\r\n    return DebounceCache;\r\n}());\r\nfunction AwesomeDebouncePromise(func, wait, options) {\r\n    var finalOptions = __assign({}, DefaultOptions, options);\r\n    var debounceCache = new DebounceCache({\r\n        func: func,\r\n        wait: wait,\r\n        options: finalOptions,\r\n    });\r\n    var AwesomeDebouncePromiseWrapper = (function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var debouncedFn = debounceCache.getDebouncedFunction(args).func;\r\n        return debouncedFn.apply(void 0, args);\r\n    }); // TODO fix TS\r\n    /*\r\n    AwesomeDebouncePromiseWrapper.cancel = (key?: string) => {\r\n  \n    };\r\n    */\r\n    return AwesomeDebouncePromiseWrapper;\r\n}\n\nexport default AwesomeDebouncePromise;\n//# sourceMappingURL=index.es.js.map\n","import React from 'react'\nimport './style.scss'\nimport { statuses } from 'utilities/statuses'\nimport AwesomeDebouncePromise from 'awesome-debounce-promise'\n\nclass ProfileLocationInput extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      searchableName: '',\n      searchResults: [],\n      searchStatus: statuses.READY,\n      showOptions: false,\n      profileLocation: {\n        locationName: '',\n        locationPoint: '',\n      },\n    }\n\n    this.getDebouncedLocations = AwesomeDebouncePromise(\n      props.apiClient.getLocations,\n      400\n    )\n  }\n\n  handleSearchableNameChange = event => {\n    this.setState({\n      ...this.state,\n      searchResults: [],\n      searchStatus:\n        event.target.value && event.target.value.length >= 3\n          ? statuses.LOADING\n          : statuses.READY,\n      searchableName: event.target.value,\n    })\n\n    if (event.target.value) {\n      this.getDebouncedLocations(event.target.value).then(res => {\n        this.setState({\n          ...this.state,\n          searchResults: res.data.items,\n          searchStatus: res.data.total > 0 ? statuses.SAVING : statuses.ERROR,\n        })\n      })\n    }\n  }\n\n  selectLocation = profileLocation => {\n    this.props.updateLocation({\n      ...profileLocation,\n      locationName: profileLocation.friendlyName,\n      locationPoint: profileLocation.latitude + ',' + profileLocation.longitude,\n    })\n  }\n\n  handleOnFocus = event => {\n    this.setState({\n      ...this.state,\n      showOptions: true,\n    })\n  }\n\n  handleOnBlur = event => {\n    setTimeout(() => {\n      // Ensures that the blur event is processed after the selectLocation handler\n      if (this.state.showOptions) {\n        this.props.updateLocation({\n          locationName: this.state.searchableName,\n          locationPoint: null,\n        })\n      }\n    }, 50)\n  }\n\n  componentWillReceiveProps = nextProps => {\n    if (nextProps) {\n      this.setState({\n        ...this.state,\n        searchableName: nextProps.locationName,\n        searchStatus: statuses.READY,\n        searchResults: [],\n        showOptions: false,\n        profileLocation: {\n          locationName: nextProps.locationName,\n          locationPoint: nextProps.locationPoint,\n        },\n      })\n    }\n  }\n\n  getIconFromSearchStatus = () => {\n    if (this.state.searchStatus === statuses.LOADING) {\n      return 'fa fa-hourglass'\n    } else if (this.state.searchStatus === statuses.SAVING) {\n      return 'fa fa-list'\n    } else {\n      return 'fa fa-search'\n    }\n  }\n\n  render = () => (\n    <div className=\"col-12\">\n      <label htmlFor=\"locationName\">Location</label>\n      <div className=\"input-group mb-3\">\n        <input\n          name=\"locationName\"\n          type=\"text\"\n          className=\"form-control\"\n          id=\"locationName\"\n          placeholder=\"Start typing to select your city\"\n          autoComplete=\"off\"\n          value={this.state.searchableName}\n          onChange={this.handleSearchableNameChange}\n          onFocus={this.handleOnFocus}\n          onBlur={this.handleOnBlur}\n        />\n        <div className=\"input-group-append\">\n          <span className=\"input-group-text\">\n            <i className={this.getIconFromSearchStatus()} />\n          </span>\n        </div>\n      </div>\n      {this.state.showOptions &&\n      this.state.searchResults &&\n      this.state.searchResults.length > 0 ? (\n        <div className=\"dropdown-menu show location-dropdown-select\">\n          {this.state.searchResults.map(result => (\n            <button\n              key={result.friendlyName}\n              className=\"dropdown-item\"\n              type=\"button\"\n              onClick={() => this.selectLocation(result)}\n              value={result}\n            >\n              {result.friendlyName}\n            </button>\n          ))}\n        </div>\n      ) : (\n        ''\n      )}\n    </div>\n  )\n}\n\nexport default ProfileLocationInput\n","import React from 'react'\nimport './style.scss'\nimport ApiClient from 'utilities/api-client'\nimport { cleanNullValues } from 'utilities/clean-null-values'\nimport { statuses } from 'utilities/statuses'\nimport ProfileLocationInput from 'components/ProfileForm/ProfileLocationInput'\n\nconst speakingGoalOptions = [\n  'Speak at my first conference',\n  'Speak at more conferences',\n  'Raise my acceptance rate',\n  'Speak internationally',\n  'Get a keynote speaking slot',\n  'Meet my quota for work',\n]\n\nclass ProfileForm extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      status: statuses.READY,\n      account: {\n        email: '',\n        firstName: '',\n        lastName: '',\n        location: '',\n        locationPoint: '',\n        speakingGoal: '',\n        speakingGoalSelected: '',\n      },\n    }\n\n    if (props.auth && props.auth.user) {\n      const data = cleanNullValues(props.auth.user)\n\n      this.state = {\n        account: {\n          ...this.state.account,\n          ...data,\n          speakingGoalSelected: !data.speakingGoal\n            ? data.speakingGoal\n            : speakingGoalOptions.includes(data.speakingGoal)\n            ? data.speakingGoal\n            : 'Other',\n        },\n        status: statuses.READY,\n      }\n    }\n\n    this.apiClient = new ApiClient()\n  }\n\n  componentDidMount = () => {\n    this.setState({ ...this.state, status: statuses.LOADING })\n  }\n\n  handleChange = event => {\n    this.setState({\n      ...this.state,\n      account: {\n        ...this.state.account,\n        [event.target.name]: event.target.value,\n      },\n    })\n  }\n\n  handleLocationChange = profileLocation => {\n    this.setState({\n      ...this.state,\n      account: {\n        ...this.state.account,\n        location: profileLocation.locationName,\n        locationPoint: profileLocation.locationPoint,\n      },\n    })\n  }\n\n  handleSelectedSpeakingGoalChange = event => {\n    const speakingGoal = speakingGoalOptions.includes(event.target.value)\n      ? event.target.value\n      : ''\n    this.setState({\n      ...this.state,\n      account: {\n        ...this.state.account,\n        speakingGoal,\n        speakingGoalSelected: event.target.value,\n      },\n    })\n  }\n\n  handleSubmit = event => {\n    this.setState({ ...this.state, status: statuses.SAVING })\n    event.preventDefault()\n\n    this.apiClient\n      .patchMe(this.state.account)\n      .then(res => {\n        this.setState({\n          ...this.state,\n          status: statuses.SAVED,\n        })\n        if (this.props.onComplete) {\n          this.props.onComplete()\n        }\n      })\n      .catch(error => {\n        console.error(error.message)\n        this.setState({ ...this.state, status: statuses.ERROR })\n      })\n  }\n\n  componentWillReceiveProps = (nextProps, nextContext) => {\n    if (nextProps && nextProps.auth && nextProps.auth.user) {\n      const data = cleanNullValues(nextProps.auth.user)\n\n      this.setState({\n        ...this.state,\n        account: {\n          ...this.state.account,\n          ...data,\n          speakingGoalSelected: !data.speakingGoal\n            ? data.speakingGoal\n            : speakingGoalOptions.includes(data.speakingGoal)\n            ? data.speakingGoal\n            : 'Other',\n        },\n        status: statuses.READY,\n      })\n    }\n  }\n\n  render = () => (\n    <form className=\"row account-form\" onSubmit={this.handleSubmit}>\n      <div className=\"col-12\">\n        <span className=\"pull-right text-muted font-italic\">\n          Note: Profile information is <strong>not</strong> shared publicly.\n        </span>\n        <label htmlFor=\"emailInput\">Email Address</label>\n        <input\n          name=\"email\"\n          type=\"email\"\n          className=\"form-control mb-3\"\n          id=\"emailInput\"\n          placeholder=\"Your email\"\n          value={this.state.account.email || ''}\n          disabled\n        />\n      </div>\n      <div className=\"col-12 col-md-6\">\n        <label htmlFor=\"first_name\">First Name</label>\n        <input\n          name=\"firstName\"\n          type=\"text\"\n          className=\"form-control mb-3\"\n          id=\"firstName\"\n          placeholder=\"First name\"\n          value={this.state.account.firstName || ''}\n          onChange={this.handleChange}\n        />\n      </div>\n      <div className=\"col-12 col-md-6\">\n        <label htmlFor=\"last_name\">Last Name</label>\n        <input\n          name=\"lastName\"\n          type=\"text\"\n          className=\"form-control mb-3\"\n          id=\"lastName\"\n          placeholder=\"Last name\"\n          value={this.state.account.lastName || ''}\n          onChange={this.handleChange}\n        />\n      </div>\n      <ProfileLocationInput\n        locationName={this.state.account.location}\n        locationPoint={this.state.account.locationPoint}\n        updateLocation={this.handleLocationChange}\n        apiClient={this.apiClient}\n      />\n      <div className=\"col-12\">\n        <label htmlFor=\"speakingGoal\">\n          What is your primary goal as a speaker?{' '}\n          <span className=\"small text-muted\">\n            This helps us align the product experience with your goals.\n          </span>\n        </label>\n        <select\n          className=\"custom-select mb-3\"\n          id=\"speakingGoalSelected\"\n          name=\"speakingGoalSelected\"\n          value={this.state.account.speakingGoalSelected || ''}\n          onChange={this.handleSelectedSpeakingGoalChange}\n        >\n          <option value=\"\"> </option>\n          {speakingGoalOptions.map((goalOption, i) => (\n            <option key={i} value={goalOption}>\n              {goalOption}\n            </option>\n          ))}\n          <option value=\"Other\">Other</option>\n        </select>\n        {this.state.account.speakingGoalSelected === 'Other' ? (\n          <input\n            name=\"speakingGoal\"\n            type=\"text\"\n            className=\"form-control mb-3\"\n            id=\"speakingGoal\"\n            placeholder=\"Be specific, eg: 'Speak at 10 new conferences this year.'\"\n            value={this.state.account.speakingGoal || ''}\n            onChange={this.handleChange}\n          />\n        ) : (\n          ''\n        )}\n      </div>\n      <div className=\"col-12\">\n        <input\n          type=\"submit\"\n          value={this.props.saveButtonText || 'Save'}\n          className=\"btn btn-success btn-lg btn-block mb-3\"\n        />\n      </div>\n      <div className=\"col-12\">\n        {this.state.status === statuses.ERROR ? (\n          <div className=\"alert alert-danger\">\n            <strong>Whoops! Something went wrong.</strong> Check the console to\n            learn more or contact support for help.\n          </div>\n        ) : (\n          ''\n        )}\n        {this.state.status === statuses.SAVED ? (\n          <div className=\"alert alert-success\">\n            <strong>Account saved!</strong> You can now carry on with your day.\n          </div>\n        ) : (\n          ''\n        )}\n      </div>\n    </form>\n  )\n}\n\nexport default ProfileForm\n"],"sourceRoot":""}