{"version":3,"sources":["webpack:///./src/pages/c/profile.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/utilities/clean-null-values.js","webpack:///./src/components/ProfileForm/index.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js"],"names":["Profile","login","e","preventDefault","_this","props","authClient","render","_this$props","location","auth","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","components_Layout__WEBPACK_IMPORTED_MODULE_3__","components_Meta__WEBPACK_IMPORTED_MODULE_4__","site","siteMetadata","title","className","isAuthenticated","Fragment","components_ProfileForm__WEBPACK_IMPORTED_MODULE_5__","onClick","href","React","Component","withAuthentication","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","configurable","get","this","match","cleanNullValues","obj","Object","keys","forEach","key","speakingGoalOptions","ProfileForm","_React$Component","call","componentDidMount","setState","assign","state","status","statuses","LOADING","handleChange","event","_Object$assign","account","target","name","value","handleSelectedSpeakingGoalChange","speakingGoal","includes","speakingGoalSelected","handleSubmit","SAVING","apiClient","patchMe","then","res","SAVED","onComplete","catch","error","console","message","ERROR","componentWillReceiveProps","nextProps","nextContext","user","data","READY","react__WEBPACK_IMPORTED_MODULE_4___default","onSubmit","htmlFor","type","id","placeholder","email","disabled","firstName","onChange","lastName","map","goalOption","i","saveButtonText","ApiClient","toObject","$keys","it","$export","core","fails","module","exports","KEY","exec","fn","exp","S","F"],"mappings":"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","file":"component---src-pages-c-profile-js-6f52b198e2e63f7825a0.js","sourcesContent":["import React from 'react'\nimport { siteMetadata } from '../../../gatsby-config'\nimport Layout from 'components/Layout'\nimport Meta from 'components/Meta'\nimport ProfileForm from 'components/ProfileForm'\nimport { withAuthentication } from '../../context/withAuthentication'\n\nclass Profile extends React.Component {\n  login = e => {\n    e.preventDefault()\n    this.props.authClient.login()\n  }\n\n  render = () => {\n    const { location, auth } = this.props\n\n    return (\n      <Layout location={location} auth={auth}>\n        <Meta site={siteMetadata} title=\"Your Account\" />\n        <div className=\"container mt-3\">\n          <div className=\"account-page\">\n            {auth.isAuthenticated ? (\n              <React.Fragment>\n                <h1>Edit Profile</h1>\n                <ProfileForm auth={auth} />\n              </React.Fragment>\n            ) : (\n              <a className=\"nav-link\" onClick={this.login} href=\"#\">\n                Login\n              </a>\n            )}\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default withAuthentication(Profile)\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","export const cleanNullValues = obj => {\n  Object.keys(obj).forEach(key => obj[key] === null && delete obj[key])\n  return obj\n}\n","import React from 'react'\nimport './style.scss'\nimport ApiClient from 'utilities/api-client'\nimport { cleanNullValues } from 'utilities/clean-null-values'\nimport { statuses } from 'utilities/statuses'\n\nconst speakingGoalOptions = [\n  'Speak at my first conference',\n  'Speak at more conferences',\n  'Raise my acceptance rate',\n  'Speak internationally',\n  'Get a keynote speaking slot',\n  'Meet my quota for work',\n]\n\nclass ProfileForm extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      status: statuses.READY,\n      account: {\n        email: '',\n        firstName: '',\n        lastName: '',\n        location: '',\n        speakingGoal: '',\n        speakingGoalSelected: '',\n      },\n    }\n\n    if (props.auth && props.auth.user) {\n      const data = cleanNullValues(props.auth.user)\n\n      this.state = {\n        account: {\n          ...this.state.account,\n          ...data,\n          speakingGoalSelected: !data.speakingGoal\n            ? data.speakingGoal\n            : speakingGoalOptions.includes(data.speakingGoal)\n            ? data.speakingGoal\n            : 'Other',\n        },\n        status: statuses.READY,\n      }\n    }\n\n    this.apiClient = new ApiClient()\n  }\n\n  componentDidMount = () => {\n    this.setState({ ...this.state, status: statuses.LOADING })\n  }\n\n  handleChange = event => {\n    this.setState({\n      ...this.state,\n      account: {\n        ...this.state.account,\n        [event.target.name]: event.target.value,\n      },\n    })\n  }\n\n  handleSelectedSpeakingGoalChange = event => {\n    const speakingGoal = speakingGoalOptions.includes(event.target.value)\n      ? event.target.value\n      : ''\n    this.setState({\n      ...this.state,\n      account: {\n        ...this.state.account,\n        speakingGoal,\n        speakingGoalSelected: event.target.value,\n      },\n    })\n  }\n\n  handleSubmit = event => {\n    this.setState({ ...this.state, status: statuses.SAVING })\n    event.preventDefault()\n\n    this.apiClient\n      .patchMe(this.state.account)\n      .then(res => {\n        this.setState({\n          ...this.state,\n          status: statuses.SAVED,\n        })\n        if (this.props.onComplete) {\n          this.props.onComplete()\n        }\n      })\n      .catch(error => {\n        console.error(error.message)\n        this.setState({ ...this.state, status: statuses.ERROR })\n      })\n  }\n\n  componentWillReceiveProps = (nextProps, nextContext) => {\n    if (nextProps && nextProps.auth && nextProps.auth.user) {\n      const data = cleanNullValues(nextProps.auth.user)\n\n      this.setState({\n        ...this.state,\n        account: {\n          ...this.state.account,\n          ...data,\n          speakingGoalSelected: !data.speakingGoal\n            ? data.speakingGoal\n            : speakingGoalOptions.includes(data.speakingGoal)\n            ? data.speakingGoal\n            : 'Other',\n        },\n        status: statuses.READY,\n      })\n    }\n  }\n\n  render = () => (\n    <form className=\"row account-form\" onSubmit={this.handleSubmit}>\n      <div className=\"col-12\">\n        <span className=\"pull-right text-muted font-italic\">\n          Note: Profile information is <strong>not</strong> shared publicly.\n        </span>\n        <label htmlFor=\"emailInput\">Email Address</label>\n        <input\n          name=\"email\"\n          type=\"email\"\n          className=\"form-control mb-3\"\n          id=\"emailInput\"\n          placeholder=\"Your email\"\n          value={this.state.account.email || ''}\n          disabled\n        />\n      </div>\n      <div className=\"col-12 col-md-6\">\n        <label htmlFor=\"first_name\">First Name</label>\n        <input\n          name=\"firstName\"\n          type=\"text\"\n          className=\"form-control mb-3\"\n          id=\"firstName\"\n          placeholder=\"First name\"\n          value={this.state.account.firstName || ''}\n          onChange={this.handleChange}\n        />\n      </div>\n      <div className=\"col-12 col-md-6\">\n        <label htmlFor=\"last_name\">Last Name</label>\n        <input\n          name=\"lastName\"\n          type=\"text\"\n          className=\"form-control mb-3\"\n          id=\"lastName\"\n          placeholder=\"Last name\"\n          value={this.state.account.lastName || ''}\n          onChange={this.handleChange}\n        />\n      </div>\n      <div className=\"col-12\">\n        <label htmlFor=\"location\">Location</label>\n        <input\n          name=\"location\"\n          type=\"text\"\n          className=\"form-control mb-3\"\n          id=\"location\"\n          placeholder=\"City, Country\"\n          value={this.state.account.location || ''}\n          onChange={this.handleChange}\n        />\n      </div>\n      <div className=\"col-12\">\n        <label htmlFor=\"speakingGoal\">\n          What is your primary goal as a speaker?{' '}\n          <span className=\"small text-muted\">\n            This helps us align the product experience with your goals.\n          </span>\n        </label>\n        <select\n          className=\"custom-select mb-3\"\n          id=\"speakingGoalSelected\"\n          name=\"speakingGoalSelected\"\n          value={this.state.account.speakingGoalSelected || ''}\n          onChange={this.handleSelectedSpeakingGoalChange}\n        >\n          <option value=\"\"> </option>\n          {speakingGoalOptions.map((goalOption, i) => (\n            <option key={i} value={goalOption}>\n              {goalOption}\n            </option>\n          ))}\n          <option value=\"Other\">Other</option>\n        </select>\n        {this.state.account.speakingGoalSelected === 'Other' ? (\n          <input\n            name=\"speakingGoal\"\n            type=\"text\"\n            className=\"form-control mb-3\"\n            id=\"speakingGoal\"\n            placeholder=\"Be specific, eg: 'Speak at 10 new conferences this year.'\"\n            value={this.state.account.speakingGoal || ''}\n            onChange={this.handleChange}\n          />\n        ) : (\n          ''\n        )}\n      </div>\n      <div className=\"col-12\">\n        <input\n          type=\"submit\"\n          value={this.props.saveButtonText || 'Save'}\n          className=\"btn btn-success btn-lg btn-block mb-3\"\n        />\n      </div>\n      <div className=\"col-12\">\n        {this.state.status === statuses.ERROR ? (\n          <div className=\"alert alert-danger\">\n            <strong>Whoops! Something went wrong.</strong> Check the console to\n            learn more or contact support for help.\n          </div>\n        ) : (\n          ''\n        )}\n        {this.state.status === statuses.SAVED ? (\n          <div className=\"alert alert-success\">\n            <strong>Account saved!</strong> You can now carry on with your day.\n          </div>\n        ) : (\n          ''\n        )}\n      </div>\n    </form>\n  )\n}\n\nexport default ProfileForm\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n"],"sourceRoot":""}