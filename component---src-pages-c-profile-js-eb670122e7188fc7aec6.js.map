{"version":3,"sources":["webpack:///./src/pages/c/profile.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/utilities/clean-null-values.js","webpack:///./src/components/ProfileForm/index.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js"],"names":["Profile","props","_this","_React$Component","call","this","login","e","preventDefault","authClient","render","_this$props","location","auth","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","components_Layout__WEBPACK_IMPORTED_MODULE_3__","components_Meta__WEBPACK_IMPORTED_MODULE_4__","site","siteMetadata","title","className","isAuthenticated","Fragment","components_ProfileForm__WEBPACK_IMPORTED_MODULE_6__","onClick","href","Auth","React","Component","withAuthentication","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","configurable","get","match","cleanNullValues","obj","Object","keys","forEach","key","speakingGoalOptions","ProfileForm","componentDidMount","setState","assign","state","status","statuses","LOADING","handleChange","event","_Object$assign","account","target","name","value","handleSelectedSpeakingGoalChange","speakingGoal","includes","speakingGoalSelected","handleSubmit","SAVING","apiClient","patchMe","then","res","SAVED","onComplete","catch","error","console","message","ERROR","componentWillReceiveProps","nextProps","nextContext","user","data","READY","react__WEBPACK_IMPORTED_MODULE_4___default","onSubmit","htmlFor","type","id","placeholder","email","disabled","firstName","onChange","lastName","map","goalOption","i","saveButtonText","ApiClient","toObject","$keys","it","$export","core","fails","module","exports","KEY","exec","fn","exp","S","F"],"mappings":"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","file":"component---src-pages-c-profile-js-eb670122e7188fc7aec6.js","sourcesContent":["import React from 'react'\nimport { siteMetadata } from '../../../gatsby-config'\nimport Layout from 'components/Layout'\nimport Meta from 'components/Meta'\nimport Auth from '../../utilities/auth'\nimport ProfileForm from 'components/ProfileForm'\nimport { withAuthentication } from '../../context/withAuthentication'\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props)\n    this.authClient = new Auth()\n  }\n\n  login = e => {\n    e.preventDefault()\n    this.authClient.login()\n  }\n\n  render = () => {\n    const { location, auth } = this.props\n\n    return (\n      <Layout location={location} auth={auth}>\n        <Meta site={siteMetadata} title=\"Your Account\" />\n        <div className=\"container mt-3\">\n          <div className=\"account-page\">\n            {auth.isAuthenticated ? (\n              <React.Fragment>\n                <h1>Edit Profile</h1>\n                <ProfileForm auth={auth} />\n              </React.Fragment>\n            ) : (\n              <a className=\"nav-link\" onClick={this.login} href=\"#\">\n                Login\n              </a>\n            )}\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default withAuthentication(Profile)\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","export const cleanNullValues = obj => {\n  Object.keys(obj).forEach(key => obj[key] === null && delete obj[key])\n  return obj\n}\n","import React from 'react'\nimport './style.scss'\nimport ApiClient from 'utilities/api-client'\nimport { cleanNullValues } from 'utilities/clean-null-values'\nimport { statuses } from 'utilities/statuses'\n\nconst speakingGoalOptions = [\n  'Speak at my first conference',\n  'Speak at more conferences',\n  'Raise my acceptance rate',\n  'Speak internationally',\n  'Get a keynote speaking slot',\n  'Meet my quota for work',\n]\n\nclass ProfileForm extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      status: statuses.READY,\n      account: {\n        email: '',\n        firstName: '',\n        lastName: '',\n        location: '',\n        speakingGoal: '',\n        speakingGoalSelected: '',\n      },\n    }\n\n    if (props.auth && props.auth.user) {\n      const data = cleanNullValues(props.auth.user)\n\n      this.state = {\n        account: {\n          ...this.state.account,\n          ...data,\n          speakingGoalSelected: !data.speakingGoal\n            ? data.speakingGoal\n            : speakingGoalOptions.includes(data.speakingGoal)\n            ? data.speakingGoal\n            : 'Other',\n        },\n        status: statuses.READY,\n      }\n    }\n\n    this.apiClient = new ApiClient()\n  }\n\n  componentDidMount = () => {\n    this.setState({ ...this.state, status: statuses.LOADING })\n  }\n\n  handleChange = event => {\n    this.setState({\n      ...this.state,\n      account: {\n        ...this.state.account,\n        [event.target.name]: event.target.value,\n      },\n    })\n  }\n\n  handleSelectedSpeakingGoalChange = event => {\n    const speakingGoal = speakingGoalOptions.includes(event.target.value)\n      ? event.target.value\n      : ''\n    this.setState({\n      ...this.state,\n      account: {\n        ...this.state.account,\n        speakingGoal,\n        speakingGoalSelected: event.target.value,\n      },\n    })\n  }\n\n  handleSubmit = event => {\n    this.setState({ ...this.state, status: statuses.SAVING })\n    event.preventDefault()\n\n    this.apiClient\n      .patchMe(this.state.account)\n      .then(res => {\n        this.setState({\n          ...this.state,\n          status: statuses.SAVED,\n        })\n        if (this.props.onComplete) {\n          this.props.onComplete()\n        }\n      })\n      .catch(error => {\n        console.error(error.message)\n        this.setState({ ...this.state, status: statuses.ERROR })\n      })\n  }\n\n  componentWillReceiveProps = (nextProps, nextContext) => {\n    if (nextProps && nextProps.auth && nextProps.auth.user) {\n      const data = cleanNullValues(nextProps.auth.user)\n\n      this.setState({\n        ...this.state,\n        account: {\n          ...this.state.account,\n          ...data,\n          speakingGoalSelected: !data.speakingGoal\n            ? data.speakingGoal\n            : speakingGoalOptions.includes(data.speakingGoal)\n            ? data.speakingGoal\n            : 'Other',\n        },\n        status: statuses.READY,\n      })\n    }\n  }\n\n  render = () => (\n    <form className=\"row account-form\" onSubmit={this.handleSubmit}>\n      <div className=\"col-12\">\n        <span className=\"pull-right text-muted font-italic\">\n          Note: Profile information is <strong>not</strong> shared publicly.\n        </span>\n        <label htmlFor=\"emailInput\">Email Address</label>\n        <input\n          name=\"email\"\n          type=\"email\"\n          className=\"form-control mb-3\"\n          id=\"emailInput\"\n          placeholder=\"Your email\"\n          value={this.state.account.email || ''}\n          disabled\n        />\n      </div>\n      <div className=\"col-12 col-md-6\">\n        <label htmlFor=\"first_name\">First Name</label>\n        <input\n          name=\"firstName\"\n          type=\"text\"\n          className=\"form-control mb-3\"\n          id=\"firstName\"\n          placeholder=\"First name\"\n          value={this.state.account.firstName || ''}\n          onChange={this.handleChange}\n        />\n      </div>\n      <div className=\"col-12 col-md-6\">\n        <label htmlFor=\"last_name\">Last Name</label>\n        <input\n          name=\"lastName\"\n          type=\"text\"\n          className=\"form-control mb-3\"\n          id=\"lastName\"\n          placeholder=\"Last name\"\n          value={this.state.account.lastName || ''}\n          onChange={this.handleChange}\n        />\n      </div>\n      <div className=\"col-12\">\n        <label htmlFor=\"location\">Location</label>\n        <input\n          name=\"location\"\n          type=\"text\"\n          className=\"form-control mb-3\"\n          id=\"location\"\n          placeholder=\"City, Country\"\n          value={this.state.account.location || ''}\n          onChange={this.handleChange}\n        />\n      </div>\n      <div className=\"col-12\">\n        <label htmlFor=\"speakingGoal\">\n          What is your primary goal as a speaker?{' '}\n          <span className=\"small text-muted\">\n            This helps us align the product experience with your goals.\n          </span>\n        </label>\n        <select\n          className=\"custom-select mb-3\"\n          id=\"speakingGoalSelected\"\n          name=\"speakingGoalSelected\"\n          value={this.state.account.speakingGoalSelected || ''}\n          onChange={this.handleSelectedSpeakingGoalChange}\n        >\n          <option value=\"\"> </option>\n          {speakingGoalOptions.map((goalOption, i) => (\n            <option key={i} value={goalOption}>\n              {goalOption}\n            </option>\n          ))}\n          <option value=\"Other\">Other</option>\n        </select>\n        {this.state.account.speakingGoalSelected === 'Other' ? (\n          <input\n            name=\"speakingGoal\"\n            type=\"text\"\n            className=\"form-control mb-3\"\n            id=\"speakingGoal\"\n            placeholder=\"Be specific, eg: 'Speak at 10 new conferences this year.'\"\n            value={this.state.account.speakingGoal || ''}\n            onChange={this.handleChange}\n          />\n        ) : (\n          ''\n        )}\n      </div>\n      <div className=\"col-12\">\n        <input\n          type=\"submit\"\n          value={this.props.saveButtonText || 'Save'}\n          className=\"btn btn-success btn-lg btn-block mb-3\"\n        />\n      </div>\n      <div className=\"col-12\">\n        {this.state.status === statuses.ERROR ? (\n          <div className=\"alert alert-danger\">\n            <strong>Whoops! Something went wrong.</strong> Check the console to\n            learn more or contact support for help.\n          </div>\n        ) : (\n          ''\n        )}\n        {this.state.status === statuses.SAVED ? (\n          <div className=\"alert alert-success\">\n            <strong>Account saved!</strong> You can now carry on with your day.\n          </div>\n        ) : (\n          ''\n        )}\n      </div>\n    </form>\n  )\n}\n\nexport default ProfileForm\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n"],"sourceRoot":""}