{"version":3,"sources":["webpack:///./src/components/UserSummary/index.js","webpack:///./src/pages/c/dashboard.js"],"names":["UserSummary","props","_this","_React$Component","call","this","componentDidMount","auth","_isMounted","apiClient","isAuthenticated","getSavedConferences","then","userConferences","setState","Object","assign","state","savedCfps","data","items","filter","uc","action","length","appliedCfps","meta","trackingStatus","getConferences","conferences","openCfps","total","ApiClient","componentWillUnmount","render","react_default","a","createElement","id","className","gatsby_browser_entry","to","React","Component","Dashboard","login","e","preventDefault","authClient","_this$props","location","Layout","Meta","site","siteMetadata","title","components_UserSummary","onClick","href","Auth","withAuthentication"],"mappings":"mNA2GeA,cArGb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAUFC,kBAAoB,WACDJ,EAAKD,MAAdM,KACRL,EAAKM,YAAa,EAEdN,EAAKO,UAAUC,kBACjBR,EAAKO,UAAUE,sBAAsBC,KAAK,SAAAC,GACxCX,EAAKY,SAALC,OAAAC,OAAA,GACKd,EAAKe,MADV,CAEEC,UAAWL,EAAgBM,KAAKC,MAAMC,OACpC,SAAAC,GAAE,MAAkB,UAAdA,EAAGC,SACTC,OACFC,YAAaZ,EAAgBM,KAAKC,MAAMC,OACtC,SAAAC,GAAE,MACc,YAAdA,EAAGC,QAAmD,YAA3BD,EAAGI,KAAKC,iBACrCH,YAGNtB,EAAKO,UAAUmB,iBAAiBhB,KAAK,SAAAiB,GACnC3B,EAAKY,SAALC,OAAAC,OAAA,GACKd,EAAKe,MADV,CAEEa,SAAUD,EAAYV,KAAKY,aA7BjC7B,EAAKM,YAAa,EAClBN,EAAKe,MAAQ,CACXa,SAAU,KACVZ,UAAW,KACXO,YAAa,MAEfvB,EAAKO,UAAY,IAAIuB,IARJ9B,sCAqCnB+B,qBAAA,WACE5B,KAAKG,YAAa,KAGpB0B,OAAA,WACE,OACEC,EAAAC,EAAAC,cAAA,OAAKC,GAAG,cAAcC,UAAU,0BAC9BJ,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eAAf,aACAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMD,UAAU,kBAAkBE,GAAG,WAClCpC,KAAKY,MAAMa,UAAY,QAG5BK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACbJ,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMC,GAAG,WACPN,EAAAC,EAAAC,cAAA,KAAGE,UAAU,oBADf,gBAONJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eAAf,cACAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMD,UAAU,qBAAqBE,GAAG,aACZ,OAAzBpC,KAAKY,MAAMC,UAAqB,MAAQb,KAAKY,MAAMC,YAGxDiB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACbJ,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMC,GAAG,aACPN,EAAAC,EAAAC,cAAA,KAAGE,UAAU,oBADf,kBAONJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eAAf,WACAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMD,UAAU,qBAAqBE,GAAG,eACV,OAA3BpC,KAAKY,MAAMQ,YACR,MACApB,KAAKY,MAAMQ,cAGnBU,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACbJ,EAAAC,EAAAC,cAACG,EAAA,KAAD,CAAMC,GAAG,eACPN,EAAAC,EAAAC,cAAA,KAAGE,UAAU,oBADf,+BA1FUG,IAAMC,WCG1BC,cACJ,SAAAA,EAAY3C,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAIFwC,MAAQ,SAAAC,GACNA,EAAEC,iBACF7C,EAAK8C,WAAWH,SAPC3C,EAUnBgC,OAAS,WAAM,IAAAe,EACc/C,EAAKD,MAAxBiD,EADKD,EACLC,SAAU3C,EADL0C,EACK1C,KAElB,OACE4B,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAAQD,SAAUA,EAAU3C,KAAMA,GAChC4B,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAMC,eAAcC,MAAM,iBAC/BhD,GAAQA,EAAKG,gBACZyB,EAAAC,EAAAC,cAACmB,EAAD,CAAajD,KAAMA,IAEnB4B,EAAAC,EAAAC,cAAA,KAAGE,UAAU,WAAWkB,QAASvD,EAAK2C,MAAOa,KAAK,KAAlD,WAjBNxD,EAAK8C,WAAa,IAAIW,IAFLzD,qBADGwC,IAAMC,WA6BfiB,sBAAmBhB","file":"component---src-pages-c-dashboard-js-a51dbb2b4f0e3d463673.js","sourcesContent":["import React from 'react'\nimport './style.scss'\nimport { Link } from 'gatsby'\nimport ApiClient from '../../utilities/api-client'\n\nclass UserSummary extends React.Component {\n  constructor(props) {\n    super(props)\n    this._isMounted = false\n    this.state = {\n      openCfps: null,\n      savedCfps: null,\n      appliedCfps: null,\n    }\n    this.apiClient = new ApiClient()\n  }\n\n  componentDidMount = () => {\n    const { auth } = this.props\n    this._isMounted = true\n\n    if (this.apiClient.isAuthenticated) {\n      this.apiClient.getSavedConferences().then(userConferences => {\n        this.setState({\n          ...this.state,\n          savedCfps: userConferences.data.items.filter(\n            uc => uc.action === 'saved'\n          ).length,\n          appliedCfps: userConferences.data.items.filter(\n            uc =>\n              uc.action === 'tracked' && uc.meta.trackingStatus === 'applied'\n          ).length,\n        })\n      })\n      this.apiClient.getConferences().then(conferences => {\n        this.setState({\n          ...this.state,\n          openCfps: conferences.data.total,\n        })\n      })\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  render() {\n    return (\n      <div id=\"userSummary\" className=\"container mt-1 mt-md-5\">\n        <h1>Your Usage Summary</h1>\n        <div className=\"row\">\n          <div className=\"col-md-4\">\n            <div className=\"card text-center mt-3\">\n              <div className=\"card-header\">Open CFPs</div>\n              <div className=\"card-body\">\n                <Link className=\"total text-info\" to=\"/c/all/\">\n                  {this.state.openCfps || '...'}\n                </Link>\n              </div>\n              <div className=\"card-footer\">\n                <Link to=\"/c/all/\">\n                  <i className=\"fa fa-list mr-1\" /> View All\n                </Link>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"col-md-4\">\n            <div className=\"card text-center mt-3\">\n              <div className=\"card-header\">Saved CFPs</div>\n              <div className=\"card-body\">\n                <Link className=\"total text-warning\" to=\"/c/saved/\">\n                  {this.state.savedCfps === null ? '...' : this.state.savedCfps}\n                </Link>\n              </div>\n              <div className=\"card-footer\">\n                <Link to=\"/c/saved/\">\n                  <i className=\"fa fa-star mr-1\" /> View Saved\n                </Link>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"col-md-4\">\n            <div className=\"card text-center mt-3\">\n              <div className=\"card-header\">Applied</div>\n              <div className=\"card-body\">\n                <Link className=\"total text-success\" to=\"/c/applied/\">\n                  {this.state.appliedCfps === null\n                    ? '...'\n                    : this.state.appliedCfps}\n                </Link>\n              </div>\n              <div className=\"card-footer\">\n                <Link to=\"/c/applied/\">\n                  <i className=\"fa fa-list mr-1\" /> View Applications\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default UserSummary\n","import React from 'react'\nimport { siteMetadata } from '../../../gatsby-config'\nimport Layout from 'components/Layout'\nimport Meta from 'components/Meta'\nimport Auth from '../../utilities/auth'\nimport { withAuthentication } from '../../context/withAuthentication'\nimport UserSummary from 'components/UserSummary'\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props)\n    this.authClient = new Auth()\n  }\n\n  login = e => {\n    e.preventDefault()\n    this.authClient.login()\n  }\n\n  render = () => {\n    const { location, auth } = this.props\n\n    return (\n      <Layout location={location} auth={auth}>\n        <Meta site={siteMetadata} title=\"Your Account\" />\n        {auth && auth.isAuthenticated ? (\n          <UserSummary auth={auth} />\n        ) : (\n          <a className=\"nav-link\" onClick={this.login} href=\"#\">\n            Login\n          </a>\n        )}\n      </Layout>\n    )\n  }\n}\n\nexport default withAuthentication(Dashboard)\n"],"sourceRoot":""}